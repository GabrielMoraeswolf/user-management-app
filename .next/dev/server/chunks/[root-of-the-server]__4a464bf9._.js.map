{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/users.js"],"sourcesContent":["import apiClient from '../../lib/apiClient';\r\n\r\nexport default async function handler(req, res) {\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ message: 'Method not allowed' });\r\n  }\r\n\r\n  try {\r\n    const { size = 10 } = req.query;\r\n    const users = await apiClient.getUsers(parseInt(size));\r\n    \r\n    // Add a flag to indicate if data is from API or mock\r\n    const responseData = users.map(user => ({\r\n      ...user,\r\n      data_source: user.is_mock ? 'mock' : 'api'\r\n    }));\r\n    \r\n    res.status(200).json(responseData);\r\n  } catch (error) {\r\n    console.error('Error in users API route:', error);\r\n    \r\n    // Final fallback - generate mock data directly\r\n    const generateMockUsers = (size = 10) => {\r\n      const mockUsers = [];\r\n      for (let i = 0; i < size; i++) {\r\n        mockUsers.push({\r\n          id: i + 1,\r\n          uid: `fallback-uid-${i}-${Date.now()}`,\r\n          first_name: `FirstName${i}`,\r\n          last_name: `LastName${i}`,\r\n          username: `user${i}`,\r\n          email: `user${i}@example.com`,\r\n          phone_number: `+1-555-${String(i).padStart(3, '0')}-${String(i).padStart(4, '0')}`,\r\n          date_of_birth: `${1980 + (i % 30)}-${String((i % 12) + 1).padStart(2, '0')}-${String((i % 28) + 1).padStart(2, '0')}`,\r\n          data_source: 'fallback'\r\n        });\r\n      }\r\n      return mockUsers;\r\n    };\r\n    \r\n    const fallbackUsers = generateMockUsers(parseInt(req.query.size || 10));\r\n    res.status(200).json(fallbackUsers);\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,SAAS;QAAqB;IAC9D;IAEA,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,KAAK;QAC/B,MAAM,QAAQ,MAAM,oHAAS,CAAC,QAAQ,CAAC,SAAS;QAEhD,qDAAqD;QACrD,MAAM,eAAe,MAAM,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACtC,GAAG,IAAI;gBACP,aAAa,KAAK,OAAO,GAAG,SAAS;YACvC,CAAC;QAED,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAE3C,+CAA+C;QAC/C,MAAM,oBAAoB,CAAC,OAAO,EAAE;YAClC,MAAM,YAAY,EAAE;YACpB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,IAAK;gBAC7B,UAAU,IAAI,CAAC;oBACb,IAAI,IAAI;oBACR,KAAK,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,KAAK,GAAG,IAAI;oBACtC,YAAY,CAAC,SAAS,EAAE,GAAG;oBAC3B,WAAW,CAAC,QAAQ,EAAE,GAAG;oBACzB,UAAU,CAAC,IAAI,EAAE,GAAG;oBACpB,OAAO,CAAC,IAAI,EAAE,EAAE,YAAY,CAAC;oBAC7B,cAAc,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,GAAG,QAAQ,CAAC,GAAG,MAAM;oBAClF,eAAe,GAAG,OAAQ,IAAI,GAAI,CAAC,EAAE,OAAO,AAAC,IAAI,KAAM,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,AAAC,IAAI,KAAM,GAAG,QAAQ,CAAC,GAAG,MAAM;oBACrH,aAAa;gBACf;YACF;YACA,OAAO;QACT;QAEA,MAAM,gBAAgB,kBAAkB,SAAS,IAAI,KAAK,CAAC,IAAI,IAAI;QACnE,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IACvB;AACF","debugId":null}}]
}