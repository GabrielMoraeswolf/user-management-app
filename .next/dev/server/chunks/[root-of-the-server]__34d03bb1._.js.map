{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/records.js"],"sourcesContent":["import { readCSV, updateUser, deleteUser, initializeCSV } from '../../../lib/csvHandler';\r\n\r\nexport default async function handler(req, res) {\r\n  await initializeCSV();\r\n\r\n  switch (req.method) {\r\n    case 'GET':\r\n      try {\r\n        const records = await readCSV();\r\n        res.status(200).json(records);\r\n      } catch (error) {\r\n        res.status(500).json({ message: 'Error reading records', error: error.message });\r\n      }\r\n      break;\r\n\r\n    case 'PUT':\r\n      try {\r\n        const { id } = req.query;\r\n        const updatedUser = await updateUser(id, req.body);\r\n        if (!updatedUser) {\r\n          return res.status(404).json({ message: 'User not found' });\r\n        }\r\n        res.status(200).json(updatedUser);\r\n      } catch (error) {\r\n        res.status(500).json({ message: 'Error updating user', error: error.message });\r\n      }\r\n      break;\r\n\r\n    case 'DELETE':\r\n      try {\r\n        const { id } = req.query;\r\n        await deleteUser(id);\r\n        res.status(200).json({ message: 'User deleted successfully' });\r\n      } catch (error) {\r\n        res.status(500).json({ message: 'Error deleting user', error: error.message });\r\n      }\r\n      break;\r\n\r\n    default:\r\n      res.status(405).json({ message: 'Method not allowed' });\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;;;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,MAAM;IAEN,OAAQ,IAAI,MAAM;QAChB,KAAK;YACH,IAAI;gBACF,MAAM,UAAU,MAAM;gBACtB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACvB,EAAE,OAAO,OAAO;gBACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,SAAS;oBAAyB,OAAO,MAAM,OAAO;gBAAC;YAChF;YACA;QAEF,KAAK;YACH,IAAI;gBACF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;gBACxB,MAAM,cAAc,MAAM,WAAW,IAAI,IAAI,IAAI;gBACjD,IAAI,CAAC,aAAa;oBAChB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,SAAS;oBAAiB;gBAC1D;gBACA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACvB,EAAE,OAAO,OAAO;gBACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,SAAS;oBAAuB,OAAO,MAAM,OAAO;gBAAC;YAC9E;YACA;QAEF,KAAK;YACH,IAAI;gBACF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;gBACxB,MAAM,WAAW;gBACjB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,SAAS;gBAA4B;YAC9D,EAAE,OAAO,OAAO;gBACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,SAAS;oBAAuB,OAAO,MAAM,OAAO;gBAAC;YAC9E;YACA;QAEF;YACE,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,SAAS;YAAqB;IACzD;AACF","debugId":null}}]
}