{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/constants.js"],"sourcesContent":["const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst CSV_FILE = path.join(process.cwd(), 'data', 'users.csv');\r\nconst CSV_HEADERS = ['ID', 'UID', 'First Name', 'Last Name', 'Username', 'Email', 'Phone Number', 'Date of Birth', 'Company', 'Created At'];\r\n\r\nconst ensureDataDirectory = () => {\r\n  const dataDir = path.join(process.cwd(), 'data');\r\n  if (!fs.existsSync(dataDir)) {\r\n    fs.mkdirSync(dataDir, { recursive: true });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  CSV_FILE,\r\n  CSV_HEADERS,\r\n  ensureDataDirectory\r\n};"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM;AAEN,MAAM,WAAW,KAAK,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAClD,MAAM,cAAc;IAAC;IAAM;IAAO;IAAc;IAAa;IAAY;IAAS;IAAgB;IAAiB;IAAW;CAAa;AAE3I,MAAM,sBAAsB;IAC1B,MAAM,UAAU,KAAK,IAAI,CAAC,QAAQ,GAAG,IAAI;IACzC,IAAI,CAAC,GAAG,UAAU,CAAC,UAAU;QAC3B,GAAG,SAAS,CAAC,SAAS;YAAE,WAAW;QAAK;IAC1C;AACF;AAEA,OAAO,OAAO,GAAG;IACf;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/csvInitializer.js"],"sourcesContent":["const fs = require('fs');\r\nconst { CSV_FILE, CSV_HEADERS, ensureDataDirectory } = require('./constants');\r\n\r\nconst initializeCSV = async () => {\r\n  try {\r\n    ensureDataDirectory();\r\n    \r\n    if (!fs.existsSync(CSV_FILE)) {\r\n      const headerRow = CSV_HEADERS.join(';') + '\\n';\r\n      fs.writeFileSync(CSV_FILE, headerRow, 'utf8');\r\n      console.log('Arquivo CSV inicializado:', CSV_FILE);\r\n    }\r\n  } catch (error) {\r\n    console.error('Erro ao inicializar o arquivo CSV inicializado:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  initializeCSV\r\n};"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE;AAEpD,MAAM,gBAAgB;IACpB,IAAI;QACF;QAEA,IAAI,CAAC,GAAG,UAAU,CAAC,WAAW;YAC5B,MAAM,YAAY,YAAY,IAAI,CAAC,OAAO;YAC1C,GAAG,aAAa,CAAC,UAAU,WAAW;YACtC,QAAQ,GAAG,CAAC,6BAA6B;QAC3C;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mDAAmD;QACjE,MAAM;IACR;AACF;AAEA,OAAO,OAAO,GAAG;IACf;AACF","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/csvParser.js"],"sourcesContent":["const { CSV_HEADERS } = require('./constants');\r\n\r\nconst parseCSV = (content) => {\r\n  const lines = content.split('\\n').filter(line => line.trim());\r\n  if (lines.length <= 1) return []; \r\n  \r\n  const headers = lines[0].split(';').map(h => h.trim());\r\n  const results = [];\r\n  \r\n  for (let i = 1; i < lines.length; i++) {\r\n    const values = lines[i].split(';');\r\n    const row = {};\r\n    \r\n    headers.forEach((header, index) => {\r\n      row[header] = values[index] ? values[index].trim() : '';\r\n    });\r\n    \r\n    if (row.ID && row.UID && row.ID !== 'ID') {\r\n      results.push({\r\n        id: row.ID,\r\n        uid: row.UID,\r\n        first_name: row['First Name'],\r\n        last_name: row['Last Name'],\r\n        username: row.Username,\r\n        email: row.Email,\r\n        phone_number: row['Phone Number'],\r\n        date_of_birth: row['Date of Birth'],\r\n        company: row.Company || '',\r\n        created_at: row['Created At'] || new Date().toISOString()\r\n      });\r\n    }\r\n  }\r\n  \r\n  return results;\r\n};\r\n\r\nconst generateCSVContent = (records) => {\r\n  const headerRow = CSV_HEADERS.join(';') + '\\n';\r\n  \r\n  const dataRows = records.map(record => {\r\n    return [\r\n      record.id || '',\r\n      record.uid || '',\r\n      record.first_name || '',\r\n      record.last_name || '',\r\n      record.username || '',\r\n      record.email || '',\r\n      record.phone_number || '',\r\n      record.date_of_birth || '',\r\n      record.company || '',\r\n      record.created_at || new Date().toISOString()\r\n    ].join(';');\r\n  }).join('\\n');\r\n  \r\n  return headerRow + dataRows;\r\n};\r\n\r\nmodule.exports = {\r\n  parseCSV,\r\n  generateCSVContent\r\n};"],"names":[],"mappings":"AAAA,MAAM,EAAE,WAAW,EAAE;AAErB,MAAM,WAAW,CAAC;IAChB,MAAM,QAAQ,QAAQ,KAAK,CAAC,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI;IAC1D,IAAI,MAAM,MAAM,IAAI,GAAG,OAAO,EAAE;IAEhC,MAAM,UAAU,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;IACnD,MAAM,UAAU,EAAE;IAElB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACrC,MAAM,SAAS,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC;QAC9B,MAAM,MAAM,CAAC;QAEb,QAAQ,OAAO,CAAC,CAAC,QAAQ;YACvB,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK;QACvD;QAEA,IAAI,IAAI,EAAE,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,KAAK,MAAM;YACxC,QAAQ,IAAI,CAAC;gBACX,IAAI,IAAI,EAAE;gBACV,KAAK,IAAI,GAAG;gBACZ,YAAY,GAAG,CAAC,aAAa;gBAC7B,WAAW,GAAG,CAAC,YAAY;gBAC3B,UAAU,IAAI,QAAQ;gBACtB,OAAO,IAAI,KAAK;gBAChB,cAAc,GAAG,CAAC,eAAe;gBACjC,eAAe,GAAG,CAAC,gBAAgB;gBACnC,SAAS,IAAI,OAAO,IAAI;gBACxB,YAAY,GAAG,CAAC,aAAa,IAAI,IAAI,OAAO,WAAW;YACzD;QACF;IACF;IAEA,OAAO;AACT;AAEA,MAAM,qBAAqB,CAAC;IAC1B,MAAM,YAAY,YAAY,IAAI,CAAC,OAAO;IAE1C,MAAM,WAAW,QAAQ,GAAG,CAAC,CAAA;QAC3B,OAAO;YACL,OAAO,EAAE,IAAI;YACb,OAAO,GAAG,IAAI;YACd,OAAO,UAAU,IAAI;YACrB,OAAO,SAAS,IAAI;YACpB,OAAO,QAAQ,IAAI;YACnB,OAAO,KAAK,IAAI;YAChB,OAAO,YAAY,IAAI;YACvB,OAAO,aAAa,IAAI;YACxB,OAAO,OAAO,IAAI;YAClB,OAAO,UAAU,IAAI,IAAI,OAAO,WAAW;SAC5C,CAAC,IAAI,CAAC;IACT,GAAG,IAAI,CAAC;IAER,OAAO,YAAY;AACrB;AAEA,OAAO,OAAO,GAAG;IACf;IACA;AACF","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/csvWriter.js"],"sourcesContent":["const fs = require('fs');\r\nconst { CSV_FILE, ensureDataDirectory } = require('./constants');\r\nconst { generateCSVContent } = require('./csvParser');\r\nconst { readCSV } = require('./csvOperations');\r\n\r\nconst writeCSV = async (records) => {\r\n  try {\r\n    ensureDataDirectory();\r\n    \r\n    console.log(`Gravando ${records.length} registros no arquivo CSV...`);\r\n    \r\n    const fullContent = generateCSVContent(records);\r\n    fs.writeFileSync(CSV_FILE, fullContent, 'utf8');\r\n    \r\n    console.log(` ${records.length} registros gravados com sucesso no arquivo CSV`);\r\n    return records.length;\r\n  } catch (error) {\r\n    console.error('Erro ao gravar no arquivo CSV:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst appendToCSV = async (user) => {\r\n  try {\r\n    ensureDataDirectory();\r\n  \r\n    const existingRecords = await readCSV();\r\n    console.log(`Foram encontrados ${existingRecords.length} registros existentes`);\r\n    \r\n    const maxId = existingRecords.length > 0 \r\n      ? Math.max(...existingRecords.map(r => parseInt(r.id) || 0))\r\n      : 0;\r\n    \r\n    const newId = maxId + 1;\r\n    \r\n    const newUser = {\r\n      id: newId.toString(),\r\n      uid: user.uid,\r\n      first_name: user.first_name || '',\r\n      last_name: user.last_name || '',\r\n      username: user.username || '',\r\n      email: user.email || '',\r\n      phone_number: user.phone_number || '',\r\n      date_of_birth: user.date_of_birth || '',\r\n      company: user.company || '',\r\n      created_at: new Date().toISOString()\r\n    };\r\n       \r\n    const allRecords = [...existingRecords, newUser];\r\n    \r\n    await writeCSV(allRecords);\r\n    \r\n    return newUser;\r\n  } catch (error) {\r\n    console.error('Erro ao adicionar dados no arquivo CSV:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  writeCSV,\r\n  appendToCSV\r\n};"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM,EAAE,QAAQ,EAAE,mBAAmB,EAAE;AACvC,MAAM,EAAE,kBAAkB,EAAE;AAC5B,MAAM,EAAE,OAAO,EAAE;AAEjB,MAAM,WAAW,OAAO;IACtB,IAAI;QACF;QAEA,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,QAAQ,MAAM,CAAC,4BAA4B,CAAC;QAEpE,MAAM,cAAc,mBAAmB;QACvC,GAAG,aAAa,CAAC,UAAU,aAAa;QAExC,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,QAAQ,MAAM,CAAC,8CAA8C,CAAC;QAC9E,OAAO,QAAQ,MAAM;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACR;AACF;AAEA,MAAM,cAAc,OAAO;IACzB,IAAI;QACF;QAEA,MAAM,kBAAkB,MAAM;QAC9B,QAAQ,GAAG,CAAC,CAAC,kBAAkB,EAAE,gBAAgB,MAAM,CAAC,qBAAqB,CAAC;QAE9E,MAAM,QAAQ,gBAAgB,MAAM,GAAG,IACnC,KAAK,GAAG,IAAI,gBAAgB,GAAG,CAAC,CAAA,IAAK,SAAS,EAAE,EAAE,KAAK,MACvD;QAEJ,MAAM,QAAQ,QAAQ;QAEtB,MAAM,UAAU;YACd,IAAI,MAAM,QAAQ;YAClB,KAAK,KAAK,GAAG;YACb,YAAY,KAAK,UAAU,IAAI;YAC/B,WAAW,KAAK,SAAS,IAAI;YAC7B,UAAU,KAAK,QAAQ,IAAI;YAC3B,OAAO,KAAK,KAAK,IAAI;YACrB,cAAc,KAAK,YAAY,IAAI;YACnC,eAAe,KAAK,aAAa,IAAI;YACrC,SAAS,KAAK,OAAO,IAAI;YACzB,YAAY,IAAI,OAAO,WAAW;QACpC;QAEA,MAAM,aAAa;eAAI;YAAiB;SAAQ;QAEhD,MAAM,SAAS;QAEf,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;QACzD,MAAM;IACR;AACF;AAEA,OAAO,OAAO,GAAG;IACf;IACA;AACF","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/csvOperations.js"],"sourcesContent":["const fs = require('fs');\r\nconst { CSV_FILE } = require('./constants');\r\nconst { parseCSV } = require('./csvParser');\r\nconst { writeCSV } = require('./csvWriter');\r\nconst { initializeCSV } = require('./csvInitializer');\r\n\r\nconst readCSV = async () => {\r\n  try {\r\n    if (!fs.existsSync(CSV_FILE)) {\r\n      return [];\r\n    }\r\n\r\n    const content = fs.readFileSync(CSV_FILE, 'utf8');\r\n    const records = parseCSV(content);\r\n    \r\n    return records;\r\n  } catch (error) {\r\n    console.error('Erro ao ler o arquivo CSV:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst addUser = async (user) => {\r\n  try {\r\n    await initializeCSV();\r\n    const records = await readCSV();\r\n    \r\n    const maxId = records.length > 0 \r\n      ? Math.max(...records.map(r => parseInt(r.id) || 0)) \r\n      : 0;\r\n    \r\n    const newUser = {\r\n      id: (maxId + 1).toString(),\r\n      uid: user.uid || user.id || `user-${Date.now()}`, \r\n      first_name: user.first_name,\r\n      last_name: user.last_name,\r\n      username: user.username,\r\n      email: user.email,\r\n      phone_number: user.phone_number,\r\n      date_of_birth: user.date_of_birth\r\n    };\r\n    \r\n    records.push(newUser);\r\n    \r\n    await writeCSV(records);\r\n    return newUser;\r\n  } catch (error) {\r\n    console.error('Erro ao adicionar usuário ao arquivo CSV:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateUser = async (id, updatedUser) => {\r\n  try {\r\n    const records = await readCSV();\r\n    \r\n    const index = records.findIndex(record => record.id === id.toString());\r\n    \r\n    if (index === -1) {\r\n      throw new Error(`Usuário com ID não encontrado!`);\r\n    }\r\n    \r\n    records[index] = { \r\n      ...records[index], \r\n      ...updatedUser,\r\n      id: records[index].id, \r\n      created_at: records[index].created_at \r\n    };\r\n    \r\n    await writeCSV(records);\r\n    \r\n    return records[index];\r\n  } catch (error) {\r\n    console.error('Erro ao atualizar o usuário:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst deleteUser = async (id) => {\r\n  try {\r\n    const records = await readCSV();\r\n    \r\n    const initialLength = records.length;\r\n    const filteredRecords = records.filter(record => record.id !== id.toString());\r\n    \r\n    if (filteredRecords.length === initialLength) {\r\n      throw new Error(`Usuário com ID não encontrado.`);\r\n    }\r\n    \r\n    const reindexedRecords = filteredRecords.map((record, index) => ({\r\n      ...record,\r\n      id: (index + 1).toString() \r\n    }));\r\n    \r\n    await writeCSV(reindexedRecords);\r\n\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Erro ao excluir o usuário:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getStats = async () => {\r\n  try {\r\n    const records = await readCSV();\r\n    return {\r\n      total: records.length,\r\n      lastUpdated: records.length > 0 ? \r\n        new Date(Math.max(...records.map(r => new Date(r.created_at || 0)))) : \r\n        null\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  readCSV,\r\n  addUser,\r\n  updateUser,\r\n  deleteUser,\r\n  getStats\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/csvHandler/index.js"],"sourcesContent":["const { initializeCSV } = require('./csvInitializer');\r\nconst { readCSV, addUser, updateUser, deleteUser, getStats } = require('./csvOperations');\r\nconst { appendToCSV, writeCSV } = require('./csvWriter');\r\n\r\nmodule.exports = {\r\n  initializeCSV,\r\n  readCSV,\r\n  addUser,\r\n  appendToCSV,\r\n  updateUser,\r\n  deleteUser,\r\n  getStats,\r\n  writeCSV\r\n};"],"names":[],"mappings":"AAAA,MAAM,EAAE,aAAa,EAAE;AACvB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE;AAC5D,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE;AAE/B,OAAO,OAAO,GAAG;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/records.js"],"sourcesContent":["\r\nimport { readCSV, updateUser, deleteUser, initializeCSV } from '../../lib/csvHandler';\r\n\r\nexport default async function handler(req, res) {\r\n \r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\r\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\r\n\r\n  if (req.method === 'OPTIONS') {\r\n    return res.status(200).end();\r\n  }\r\n\r\n  await initializeCSV();\r\n\r\n  switch (req.method) {\r\n    case 'GET':\r\n      try {\r\n        const records = await readCSV();\r\n        res.status(200).json(records);\r\n      } catch (error) {\r\n        console.error('Erro ao ler os registros no arquivo CSV:', error);\r\n        res.status(500).json({ \r\n          success: false,\r\n          message: 'Erro ao ler os registros no arquivo CSV: ' + error.message \r\n        });\r\n      }\r\n      break;\r\n\r\n    case 'PUT':\r\n      try {\r\n        const { id } = req.query;\r\n        \r\n        if (!id) {\r\n          return res.status(400).json({ \r\n            success: false,\r\n            message: 'O ID do usuário é obrigatório' \r\n          });\r\n        }\r\n        \r\n        const updatedUser = await updateUser(id, req.body);\r\n        \r\n        res.status(200).json({\r\n          success: true,\r\n          message: 'Usuário atualizado com sucesso',\r\n          data: updatedUser\r\n        });\r\n      } catch (error) {\r\n        console.error('Erro ao atualizar o usuário:', error);\r\n        res.status(500).json({ \r\n          success: false,\r\n          message: 'Erro ao atualizar o usuário:' + error.message \r\n        });\r\n      }\r\n      break;\r\n\r\n    case 'DELETE':\r\n      try {\r\n        const { id } = req.query;\r\n        \r\n        if (!id) {\r\n          return res.status(400).json({ \r\n            success: false,\r\n            message: 'O ID do usuário é obrigatório' \r\n          });\r\n        }\r\n        \r\n        await deleteUser(id);\r\n        res.status(200).json({ \r\n          success: true,\r\n          message: 'Usuário excluído com sucesso' \r\n        });\r\n      } catch (error) {\r\n        console.error('Erro ao excluir o usuário:', error);\r\n        res.status(500).json({ \r\n          success: false,\r\n          message: 'Erro ao excluir o usuário:' + error.message \r\n        });\r\n      }\r\n      break;\r\n\r\n    default:\r\n      res.status(405).json({ \r\n        success: false,\r\n        message: 'Método não permitido' \r\n      });\r\n  }\r\n}"],"names":[],"mappings":";;;;AACA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAE5C,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAE9C,IAAI,IAAI,MAAM,KAAK,WAAW;QAC5B,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAC5B;IAEA,MAAM,IAAA,oIAAa;IAEnB,OAAQ,IAAI,MAAM;QAChB,KAAK;YACH,IAAI;gBACF,MAAM,UAAU,MAAM,IAAA,8HAAO;gBAC7B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACvB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4CAA4C;gBAC1D,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACnB,SAAS;oBACT,SAAS,8CAA8C,MAAM,OAAO;gBACtE;YACF;YACA;QAEF,KAAK;YACH,IAAI;gBACF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;gBAExB,IAAI,CAAC,IAAI;oBACP,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAC1B,SAAS;wBACT,SAAS;oBACX;gBACF;gBAEA,MAAM,cAAc,MAAM,IAAA,iIAAU,EAAC,IAAI,IAAI,IAAI;gBAEjD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACnB,SAAS;oBACT,SAAS;oBACT,MAAM;gBACR;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACnB,SAAS;oBACT,SAAS,iCAAiC,MAAM,OAAO;gBACzD;YACF;YACA;QAEF,KAAK;YACH,IAAI;gBACF,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;gBAExB,IAAI,CAAC,IAAI;oBACP,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAC1B,SAAS;wBACT,SAAS;oBACX;gBACF;gBAEA,MAAM,IAAA,iIAAU,EAAC;gBACjB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACnB,SAAS;oBACT,SAAS;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACnB,SAAS;oBACT,SAAS,+BAA+B,MAAM,OAAO;gBACvD;YACF;YACA;QAEF;YACE,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBACnB,SAAS;gBACT,SAAS;YACX;IACJ;AACF","debugId":null}}]
}