{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/apiClient.js"],"sourcesContent":["const https = require('https');\r\nconst dns = require('dns');\r\n\r\nclass ApiClientWithIP {\r\n  constructor() {\r\n    this.hostname = 'random-data-api.com';\r\n    this.timeout = 30000;\r\n  }\r\n\r\n  async resolveHostname() {\r\n    return new Promise((resolve, reject) => {\r\n      dns.lookup(this.hostname, (err, address) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve(address);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async makeRequest(path) {\r\n    let ipAddress;\r\n    \r\n    try {\r\n      ipAddress = await this.resolveHostname();\r\n      console.log(`Resolved ${this.hostname} to ${ipAddress}`);\r\n    } catch (dnsError) {\r\n      throw new Error(`DNS resolution failed: ${dnsError.message}`);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const options = {\r\n        hostname: ipAddress,\r\n        port: 443,\r\n        path: path,\r\n        method: 'GET',\r\n        headers: {\r\n          'Host': this.hostname, // Important: set Host header\r\n          'User-Agent': 'User-Management-App/1.0',\r\n          'Accept': 'application/json'\r\n        },\r\n        timeout: this.timeout,\r\n        servername: this.hostname // SNI for HTTPS\r\n      };\r\n\r\n      const req = https.request(options, (res) => {\r\n        if (res.statusCode !== 200) {\r\n          reject(new Error(`HTTP ${res.statusCode}`));\r\n          return;\r\n        }\r\n\r\n        let data = '';\r\n        res.on('data', (chunk) => {\r\n          data += chunk;\r\n        });\r\n\r\n        res.on('end', () => {\r\n          try {\r\n            const parsed = JSON.parse(data);\r\n            resolve(parsed);\r\n          } catch (parseError) {\r\n            reject(new Error('Invalid JSON response'));\r\n          }\r\n        });\r\n      });\r\n\r\n      req.on('error', (error) => {\r\n        reject(new Error(`Network error: ${error.message}`));\r\n      });\r\n\r\n      req.on('timeout', () => {\r\n        req.destroy();\r\n        reject(new Error('Request timeout'));\r\n      });\r\n\r\n      req.end();\r\n    });\r\n  }\r\n\r\n  async getUsers(size = 10) {\r\n    try {\r\n      console.log(`Fetching ${size} users from Random Data API via IP...`);\r\n      const data = await this.makeRequest(`/api/v2/users?size=${size}&response_type=json`);\r\n      \r\n      console.log('Successfully fetched users from API');\r\n      \r\n      const users = Array.isArray(data) ? data : [data];\r\n      \r\n      return users.map((user, index) => ({\r\n        id: user.id || index + 1,\r\n        uid: user.uid || `uid-${user.id || index}`,\r\n        first_name: user.first_name || '',\r\n        last_name: user.last_name || '',\r\n        username: user.username || '',\r\n        email: user.email || '',\r\n        phone_number: user.phone_number || '',\r\n        date_of_birth: user.date_of_birth || ''\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('API request failed:', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new ApiClientWithIP();"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM;AAEN,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA,MAAM,kBAAkB;QACtB,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK;gBAC9B,IAAI,KAAK;oBACP,OAAO;gBACT,OAAO;oBACL,QAAQ;gBACV;YACF;QACF;IACF;IAEA,MAAM,YAAY,IAAI,EAAE;QACtB,IAAI;QAEJ,IAAI;YACF,YAAY,MAAM,IAAI,CAAC,eAAe;YACtC,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW;QACzD,EAAE,OAAO,UAAU;YACjB,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,SAAS,OAAO,EAAE;QAC9D;QAEA,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,MAAM,UAAU;gBACd,UAAU;gBACV,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,SAAS;oBACP,QAAQ,IAAI,CAAC,QAAQ;oBACrB,cAAc;oBACd,UAAU;gBACZ;gBACA,SAAS,IAAI,CAAC,OAAO;gBACrB,YAAY,IAAI,CAAC,QAAQ,CAAC,gBAAgB;YAC5C;YAEA,MAAM,MAAM,MAAM,OAAO,CAAC,SAAS,CAAC;gBAClC,IAAI,IAAI,UAAU,KAAK,KAAK;oBAC1B,OAAO,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,UAAU,EAAE;oBACzC;gBACF;gBAEA,IAAI,OAAO;gBACX,IAAI,EAAE,CAAC,QAAQ,CAAC;oBACd,QAAQ;gBACV;gBAEA,IAAI,EAAE,CAAC,OAAO;oBACZ,IAAI;wBACF,MAAM,SAAS,KAAK,KAAK,CAAC;wBAC1B,QAAQ;oBACV,EAAE,OAAO,YAAY;wBACnB,OAAO,IAAI,MAAM;oBACnB;gBACF;YACF;YAEA,IAAI,EAAE,CAAC,SAAS,CAAC;gBACf,OAAO,IAAI,MAAM,CAAC,eAAe,EAAE,MAAM,OAAO,EAAE;YACpD;YAEA,IAAI,EAAE,CAAC,WAAW;gBAChB,IAAI,OAAO;gBACX,OAAO,IAAI,MAAM;YACnB;YAEA,IAAI,GAAG;QACT;IACF;IAEA,MAAM,SAAS,OAAO,EAAE,EAAE;QACxB,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,KAAK,qCAAqC,CAAC;YACnE,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,CAAC,mBAAmB,EAAE,KAAK,mBAAmB,CAAC;YAEnF,QAAQ,GAAG,CAAC;YAEZ,MAAM,QAAQ,MAAM,OAAO,CAAC,QAAQ,OAAO;gBAAC;aAAK;YAEjD,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;oBACjC,IAAI,KAAK,EAAE,IAAI,QAAQ;oBACvB,KAAK,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,OAAO;oBAC1C,YAAY,KAAK,UAAU,IAAI;oBAC/B,WAAW,KAAK,SAAS,IAAI;oBAC7B,UAAU,KAAK,QAAQ,IAAI;oBAC3B,OAAO,KAAK,KAAK,IAAI;oBACrB,cAAc,KAAK,YAAY,IAAI;oBACnC,eAAe,KAAK,aAAa,IAAI;gBACvC,CAAC;QAEH,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;YAClD,MAAM;QACR;IACF;AACF;AAEA,OAAO,OAAO,GAAG,IAAI","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/users.js"],"sourcesContent":["import apiClient from '../../lib/apiClient';\r\n\r\nexport default async function handler(req, res) {\r\n  // Set CORS headers\r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\r\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\r\n\r\n  if (req.method === 'OPTIONS') {\r\n    return res.status(200).end();\r\n  }\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ \r\n      success: false,\r\n      message: 'Method not allowed' \r\n    });\r\n  }\r\n\r\n  try {\r\n    const { size = 10 } = req.query;\r\n    const users = await apiClient.getUsers(parseInt(size));\r\n    \r\n    res.status(200).json({\r\n      success: true,\r\n      data: users,\r\n      count: users.length\r\n    });\r\n    \r\n  } catch (error) {\r\n    console.error('Error in users API route:', error);\r\n    \r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message || 'Internal server error',\r\n      data: []\r\n    });\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,mBAAmB;IACnB,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAE9C,IAAI,IAAI,MAAM,KAAK,WAAW;QAC5B,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAC5B;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAC1B,SAAS;YACT,SAAS;QACX;IACF;IAEA,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,KAAK;QAC/B,MAAM,QAAQ,MAAM,oHAAS,CAAC,QAAQ,CAAC,SAAS;QAEhD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,MAAM;YACN,OAAO,MAAM,MAAM;QACrB;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAE3C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,SAAS,MAAM,OAAO,IAAI;YAC1B,MAAM,EAAE;QACV;IACF;AACF","debugId":null}}]
}