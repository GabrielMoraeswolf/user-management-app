{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/apiClient.js"],"sourcesContent":["const https = require('https');\r\n\r\nclass ApiClient {\r\n  constructor() {\r\n    this.baseURL = 'randomuser.me';\r\n    this.timeout = 30000;\r\n  }\r\n\r\n  async makeRequest(path) {\r\n    return new Promise((resolve, reject) => {\r\n      const options = {\r\n        hostname: this.baseURL,\r\n        port: 443,\r\n        path: path,\r\n        method: 'GET',\r\n        headers: {\r\n          'User-Agent': 'User-Management-App/1.0',\r\n          'Accept': 'application/json'\r\n        },\r\n        timeout: this.timeout\r\n      };\r\n\r\n      const req = https.request(options, (res) => {\r\n        if (res.statusCode !== 200) {\r\n          reject(new Error(`HTTP ${res.statusCode}`));\r\n          return;\r\n        }\r\n\r\n        let data = '';\r\n        res.on('data', (chunk) => {\r\n          data += chunk;\r\n        });\r\n\r\n        res.on('end', () => {\r\n          try {\r\n            const parsed = JSON.parse(data);\r\n            resolve(parsed);\r\n          } catch (parseError) {\r\n            reject(new Error('Invalid JSON response'));\r\n          }\r\n        });\r\n      });\r\n\r\n      req.on('error', (error) => {\r\n        reject(new Error(`Network error: ${error.message}`));\r\n      });\r\n\r\n      req.on('timeout', () => {\r\n        req.destroy();\r\n        reject(new Error('Request timeout'));\r\n      });\r\n\r\n      req.end();\r\n    });\r\n  }\r\n\r\n  async getUsers(size = 10) {\r\n    try {\r\n      \r\n      const data = await this.makeRequest(`/api/?results=${size}&inc=name,login,email,phone,dob,id&noinfo`);\r\n      \r\n      if (data.error) {\r\n        throw new Error(data.error);\r\n      }\r\n      \r\n      return data.results.map((user, index) => ({\r\n        id: user.login.uuid, \r\n        uid: user.id.value || `randomuser-${index}`, \r\n        first_name: user.name.first,\r\n        last_name: user.name.last,\r\n        username: user.login.username,\r\n        email: user.email,\r\n        phone_number: user.phone,\r\n        date_of_birth: new Date(user.dob.date).toISOString().split('T')[0], \r\n        gender: user.gender,\r\n        nationality: user.nat,\r\n        source: 'randomuser'\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('Falha na solicitação da API:', error.message);\r\n      \r\n    }\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = new ApiClient();"],"names":[],"mappings":"AAAA,MAAM;AAEN,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA,MAAM,YAAY,IAAI,EAAE;QACtB,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,MAAM,UAAU;gBACd,UAAU,IAAI,CAAC,OAAO;gBACtB,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,SAAS;oBACP,cAAc;oBACd,UAAU;gBACZ;gBACA,SAAS,IAAI,CAAC,OAAO;YACvB;YAEA,MAAM,MAAM,MAAM,OAAO,CAAC,SAAS,CAAC;gBAClC,IAAI,IAAI,UAAU,KAAK,KAAK;oBAC1B,OAAO,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,UAAU,EAAE;oBACzC;gBACF;gBAEA,IAAI,OAAO;gBACX,IAAI,EAAE,CAAC,QAAQ,CAAC;oBACd,QAAQ;gBACV;gBAEA,IAAI,EAAE,CAAC,OAAO;oBACZ,IAAI;wBACF,MAAM,SAAS,KAAK,KAAK,CAAC;wBAC1B,QAAQ;oBACV,EAAE,OAAO,YAAY;wBACnB,OAAO,IAAI,MAAM;oBACnB;gBACF;YACF;YAEA,IAAI,EAAE,CAAC,SAAS,CAAC;gBACf,OAAO,IAAI,MAAM,CAAC,eAAe,EAAE,MAAM,OAAO,EAAE;YACpD;YAEA,IAAI,EAAE,CAAC,WAAW;gBAChB,IAAI,OAAO;gBACX,OAAO,IAAI,MAAM;YACnB;YAEA,IAAI,GAAG;QACT;IACF;IAEA,MAAM,SAAS,OAAO,EAAE,EAAE;QACxB,IAAI;YAEF,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,CAAC,cAAc,EAAE,KAAK,yCAAyC,CAAC;YAEpG,IAAI,KAAK,KAAK,EAAE;gBACd,MAAM,IAAI,MAAM,KAAK,KAAK;YAC5B;YAEA,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;oBACxC,IAAI,KAAK,KAAK,CAAC,IAAI;oBACnB,KAAK,KAAK,EAAE,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE,OAAO;oBAC3C,YAAY,KAAK,IAAI,CAAC,KAAK;oBAC3B,WAAW,KAAK,IAAI,CAAC,IAAI;oBACzB,UAAU,KAAK,KAAK,CAAC,QAAQ;oBAC7B,OAAO,KAAK,KAAK;oBACjB,cAAc,KAAK,KAAK;oBACxB,eAAe,IAAI,KAAK,KAAK,GAAG,CAAC,IAAI,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oBAClE,QAAQ,KAAK,MAAM;oBACnB,aAAa,KAAK,GAAG;oBACrB,QAAQ;gBACV,CAAC;QAEH,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC,MAAM,OAAO;QAE7D;IACF;AAEF;AAEA,OAAO,OAAO,GAAG,IAAI","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/users.js"],"sourcesContent":["\r\nimport apiClient from '../../lib/apiClient';\r\n\r\nexport default async function handler(req, res) {\r\n \r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\r\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\r\n\r\n  if (req.method === 'OPTIONS') {\r\n    return res.status(200).end();\r\n  }\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ \r\n      success: false,\r\n      message: 'Método não permitido' \r\n    });\r\n  }\r\n\r\n  try {\r\n    const { size = 10 } = req.query;\r\n    const users = await apiClient.getUsers(parseInt(size));\r\n    \r\n    res.status(200).json({\r\n      success: true,\r\n      data: users,\r\n      count: users.length,\r\n      source: users[0]?.source || ''\r\n    });\r\n    \r\n  } catch (error) {\r\n    console.error('Erro na busca da API:', error);\r\n    \r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message || 'Erro no Servidor',\r\n      data: []\r\n    });\r\n  }\r\n}"],"names":[],"mappings":";;;;AACA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAE5C,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAE9C,IAAI,IAAI,MAAM,KAAK,WAAW;QAC5B,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAC5B;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAC1B,SAAS;YACT,SAAS;QACX;IACF;IAEA,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,KAAK;QAC/B,MAAM,QAAQ,MAAM,oHAAS,CAAC,QAAQ,CAAC,SAAS;QAEhD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,MAAM;YACN,OAAO,MAAM,MAAM;YACnB,QAAQ,KAAK,CAAC,EAAE,EAAE,UAAU;QAC9B;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QAEvC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,SAAS,MAAM,OAAO,IAAI;YAC1B,MAAM,EAAE;QACV;IACF;AACF","debugId":null}}]
}