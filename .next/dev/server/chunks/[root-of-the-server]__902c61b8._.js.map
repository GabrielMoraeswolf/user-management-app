{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/lib/apiClient.js"],"sourcesContent":["/*const https = require('https');\r\n\r\nclass ApiClient {\r\n  constructor() {\r\n\r\n    this.baseURL = 'jsonplaceholder.typicode.com';\r\n    this.timeout = 30000;\r\n  }\r\n\r\n  async makeRequest(path) {\r\n    return new Promise((resolve, reject) => {\r\n      const options = {\r\n        hostname: this.baseURL,\r\n        port: 443,\r\n        path: path,\r\n        method: 'GET',\r\n        headers: {\r\n          'User-Agent': 'User-Management-App/1.0',\r\n          'Accept': 'application/json'\r\n        },\r\n        timeout: this.timeout\r\n      };\r\n\r\n      const req = https.request(options, (res) => {\r\n        if (res.statusCode !== 200) {\r\n          reject(new Error(`HTTP ${res.statusCode}`));\r\n          return;\r\n        }\r\n\r\n        let data = '';\r\n        res.on('data', (chunk) => {\r\n          data += chunk;\r\n        });\r\n\r\n        res.on('end', () => {\r\n          try {\r\n            const parsed = JSON.parse(data);\r\n            resolve(parsed);\r\n          } catch (parseError) {\r\n            reject(new Error('Invalid JSON response'));\r\n          }\r\n        });\r\n      });\r\n\r\n      req.on('error', (error) => {\r\n        reject(new Error(`Network error: ${error.message}`));\r\n      });\r\n\r\n      req.on('timeout', () => {\r\n        req.destroy();\r\n        reject(new Error('Request timeout'));\r\n      });\r\n\r\n      req.end();\r\n    });\r\n  }\r\n\r\n  async getUsers(size = 10) {\r\n    try {\r\n      console.log(`Fetching ${size} users from JSONPlaceholder API...`);\r\n      \r\n      const data = await this.makeRequest('/users');\r\n      let users = data.slice(0, size);\r\n      \r\n      console.log('Successfully fetched users from API');\r\n      \r\n      return users.map((user, index) => ({\r\n        id: user.id,\r\n        uid: `jsonplaceholder-${user.id}`,\r\n        first_name: user.name.split(' ')[0],\r\n        last_name: user.name.split(' ').slice(1).join(' ') || 'Doe',\r\n        username: user.username,\r\n        email: user.email,\r\n        phone_number: user.phone,\r\n        date_of_birth: `19${80 + (index % 20)}-${String((index % 12) + 1).padStart(2, '0')}-${String((index % 28) + 1).padStart(2, '0')}`,\r\n        website: user.website,\r\n        company: user.company?.name,\r\n        source: 'jsonplaceholder'\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('API request failed:', error.message);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new ApiClient();*/\r\n// /lib/apiClient.js\r\nconst https = require('https');\r\n\r\nclass ApiClient {\r\n  constructor() {\r\n    this.baseURL = 'randomuser.me';\r\n    this.timeout = 30000;\r\n  }\r\n\r\n  async makeRequest(path) {\r\n    return new Promise((resolve, reject) => {\r\n      const options = {\r\n        hostname: this.baseURL,\r\n        port: 443,\r\n        path: path,\r\n        method: 'GET',\r\n        headers: {\r\n          'User-Agent': 'User-Management-App/1.0',\r\n          'Accept': 'application/json'\r\n        },\r\n        timeout: this.timeout\r\n      };\r\n\r\n      const req = https.request(options, (res) => {\r\n        if (res.statusCode !== 200) {\r\n          reject(new Error(`HTTP ${res.statusCode}`));\r\n          return;\r\n        }\r\n\r\n        let data = '';\r\n        res.on('data', (chunk) => {\r\n          data += chunk;\r\n        });\r\n\r\n        res.on('end', () => {\r\n          try {\r\n            const parsed = JSON.parse(data);\r\n            resolve(parsed);\r\n          } catch (parseError) {\r\n            reject(new Error('Invalid JSON response'));\r\n          }\r\n        });\r\n      });\r\n\r\n      req.on('error', (error) => {\r\n        reject(new Error(`Network error: ${error.message}`));\r\n      });\r\n\r\n      req.on('timeout', () => {\r\n        req.destroy();\r\n        reject(new Error('Request timeout'));\r\n      });\r\n\r\n      req.end();\r\n    });\r\n  }\r\n\r\n  async getUsers(size = 10) {\r\n    try {\r\n      console.log(`Fetching ${size} users from Random User API...`);\r\n      \r\n      // Request specific fields we need for our application\r\n      const data = await this.makeRequest(`/api/?results=${size}&inc=name,login,email,phone,dob,id&noinfo`);\r\n      \r\n      if (data.error) {\r\n        throw new Error(data.error);\r\n      }\r\n      \r\n      console.log('Successfully fetched users from Random User API');\r\n      \r\n      // Transform to match our application's expected format\r\n      return data.results.map((user, index) => ({\r\n        id: user.login.uuid, // Use UUID as primary ID\r\n        uid: user.id.value || `randomuser-${index}`, // Fallback if no ID value\r\n        first_name: user.name.first,\r\n        last_name: user.name.last,\r\n        username: user.login.username,\r\n        email: user.email,\r\n        phone_number: user.phone,\r\n        date_of_birth: new Date(user.dob.date).toISOString().split('T')[0], // Format as YYYY-MM-DD\r\n        gender: user.gender,\r\n        nationality: user.nat,\r\n        source: 'randomuser'\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('API request failed:', error.message);\r\n      \r\n    }\r\n  }\r\n\r\n}\r\n\r\nmodule.exports = new ApiClient();"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iCAuFiC,GACjC,oBAAoB;AACpB,MAAM;AAEN,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA,MAAM,YAAY,IAAI,EAAE;QACtB,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,MAAM,UAAU;gBACd,UAAU,IAAI,CAAC,OAAO;gBACtB,MAAM;gBACN,MAAM;gBACN,QAAQ;gBACR,SAAS;oBACP,cAAc;oBACd,UAAU;gBACZ;gBACA,SAAS,IAAI,CAAC,OAAO;YACvB;YAEA,MAAM,MAAM,MAAM,OAAO,CAAC,SAAS,CAAC;gBAClC,IAAI,IAAI,UAAU,KAAK,KAAK;oBAC1B,OAAO,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,UAAU,EAAE;oBACzC;gBACF;gBAEA,IAAI,OAAO;gBACX,IAAI,EAAE,CAAC,QAAQ,CAAC;oBACd,QAAQ;gBACV;gBAEA,IAAI,EAAE,CAAC,OAAO;oBACZ,IAAI;wBACF,MAAM,SAAS,KAAK,KAAK,CAAC;wBAC1B,QAAQ;oBACV,EAAE,OAAO,YAAY;wBACnB,OAAO,IAAI,MAAM;oBACnB;gBACF;YACF;YAEA,IAAI,EAAE,CAAC,SAAS,CAAC;gBACf,OAAO,IAAI,MAAM,CAAC,eAAe,EAAE,MAAM,OAAO,EAAE;YACpD;YAEA,IAAI,EAAE,CAAC,WAAW;gBAChB,IAAI,OAAO;gBACX,OAAO,IAAI,MAAM;YACnB;YAEA,IAAI,GAAG;QACT;IACF;IAEA,MAAM,SAAS,OAAO,EAAE,EAAE;QACxB,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,KAAK,8BAA8B,CAAC;YAE5D,sDAAsD;YACtD,MAAM,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,CAAC,cAAc,EAAE,KAAK,yCAAyC,CAAC;YAEpG,IAAI,KAAK,KAAK,EAAE;gBACd,MAAM,IAAI,MAAM,KAAK,KAAK;YAC5B;YAEA,QAAQ,GAAG,CAAC;YAEZ,uDAAuD;YACvD,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;oBACxC,IAAI,KAAK,KAAK,CAAC,IAAI;oBACnB,KAAK,KAAK,EAAE,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE,OAAO;oBAC3C,YAAY,KAAK,IAAI,CAAC,KAAK;oBAC3B,WAAW,KAAK,IAAI,CAAC,IAAI;oBACzB,UAAU,KAAK,KAAK,CAAC,QAAQ;oBAC7B,OAAO,KAAK,KAAK;oBACjB,cAAc,KAAK,KAAK;oBACxB,eAAe,IAAI,KAAK,KAAK,GAAG,CAAC,IAAI,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oBAClE,QAAQ,KAAK,MAAM;oBACnB,aAAa,KAAK,GAAG;oBACrB,QAAQ;gBACV,CAAC;QAEH,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;QAEpD;IACF;AAEF;AAEA,OAAO,OAAO,GAAG,IAAI","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/Documents/project/doc/next/user-management-app/pages/api/users.js"],"sourcesContent":["/*import apiClient from '../../lib/apiClient';\r\n\r\nexport default async function handler(req, res) {\r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\r\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\r\n\r\n  if (req.method === 'OPTIONS') {\r\n    return res.status(200).end();\r\n  }\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ \r\n      success: false,\r\n      message: 'Method not allowed' \r\n    });\r\n  }\r\n\r\n  try {\r\n    const { size = 10 } = req.query;\r\n    const users = await apiClient.getUsers(parseInt(size));\r\n    \r\n    res.status(200).json({\r\n      success: true,\r\n      data: users,\r\n      count: users.length\r\n    });\r\n    \r\n  } catch (error) {\r\n    console.error('Error in users API route:', error);\r\n    \r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message || 'Internal server error',\r\n      data: []\r\n    });\r\n  }\r\n}*/\r\n// /pages/api/users.js\r\nimport apiClient from '../../lib/apiClient';\r\n\r\nexport default async function handler(req, res) {\r\n  // Set CORS headers\r\n  res.setHeader('Access-Control-Allow-Origin', '*');\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\r\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\r\n\r\n  if (req.method === 'OPTIONS') {\r\n    return res.status(200).end();\r\n  }\r\n\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ \r\n      success: false,\r\n      message: 'Method not allowed' \r\n    });\r\n  }\r\n\r\n  try {\r\n    const { size = 10, seed } = req.query;\r\n    const users = await apiClient.getUsers(parseInt(size));\r\n    \r\n    res.status(200).json({\r\n      success: true,\r\n      data: users,\r\n      count: users.length,\r\n      source: users[0]?.source || 'unknown'\r\n    });\r\n    \r\n  } catch (error) {\r\n    console.error('Error in users API route:', error);\r\n    \r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message || 'Internal server error',\r\n      data: []\r\n    });\r\n  }\r\n}"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAqCC,GACD,sBAAsB;;;;;AACtB;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,mBAAmB;IACnB,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAE9C,IAAI,IAAI,MAAM,KAAK,WAAW;QAC5B,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAC5B;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAC1B,SAAS;YACT,SAAS;QACX;IACF;IAEA,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,GAAG,IAAI,KAAK;QACrC,MAAM,QAAQ,MAAM,oHAAS,CAAC,QAAQ,CAAC,SAAS;QAEhD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,MAAM;YACN,OAAO,MAAM,MAAM;YACnB,QAAQ,KAAK,CAAC,EAAE,EAAE,UAAU;QAC9B;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAE3C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,SAAS;YACT,SAAS,MAAM,OAAO,IAAI;YAC1B,MAAM,EAAE;QACV;IACF;AACF","debugId":null}}]
}